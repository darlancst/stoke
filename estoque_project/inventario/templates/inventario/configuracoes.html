{% extends 'inventario/base.html' %}

{% block title %}Configurações - Gestão de Estoque{% endblock %}

{% block extra_css %}
<style>
.input-group-text-sm {
    padding: 0.25rem 0.5rem;
    font-size: 0.875rem;
}
</style>
{% endblock %}

{% block content %}
<h1 class="mb-2">Configurações</h1>

<div class="card">
    <div class="card-body py-3 px-3">
        <form method="post" enctype="multipart/form-data" style="max-width: 800px;">
            {% csrf_token %}
            
            <!-- Nome da Empresa -->
            <div class="mb-2">
                <label for="{{ form.nome_empresa.id_for_label }}" class="form-label mb-1"><small class="fw-bold">{{ form.nome_empresa.label }}</small></label>
                {{ form.nome_empresa }}
            </div>

            <!-- Campos Numéricos em Grid -->
            <div class="row g-2 mb-2">
                <!-- Limite Estoque Baixo -->
                <div class="col-md-4">
                    <label for="{{ form.limite_estoque_baixo.id_for_label }}" class="form-label mb-1"><small class="fw-bold">{{ form.limite_estoque_baixo.label }}</small></label>
                    {{ form.limite_estoque_baixo }}
                    <div class="form-text small">{{ form.limite_estoque_baixo.help_text }}</div>
                </div>

                <!-- Margem de Lucro Ideal -->
                <div class="col-md-4">
                    <label for="{{ form.margem_lucro_ideal.id_for_label }}" class="form-label mb-1"><small class="fw-bold">{{ form.margem_lucro_ideal.label }}</small></label>
                    <div class="input-group">
                        {{ form.margem_lucro_ideal }}
                        <span class="input-group-text input-group-text-sm">%</span>
                    </div>
                    <div class="form-text small">{{ form.margem_lucro_ideal.help_text }}</div>
                </div>

                <!-- Dias Produto Parado -->
                <div class="col-md-4">
                    <label for="{{ form.dias_produto_parado.id_for_label }}" class="form-label mb-1"><small class="fw-bold">{{ form.dias_produto_parado.label }}</small></label>
                    <div class="input-group">
                        {{ form.dias_produto_parado }}
                        <span class="input-group-text input-group-text-sm">dias</span>
                    </div>
                    <div class="form-text small">{{ form.dias_produto_parado.help_text }}</div>
                </div>
            </div>

            <!-- Logo -->
            <div class="mb-2">
                <label for="{{ form.logo.id_for_label }}" class="form-label mb-1"><small class="fw-bold">{{ form.logo.label }}</small></label>
                {{ form.logo }}
                {% if form.instance.logo %}
                    <div class="mt-1"><small>Logo Atual:</small> <img src="{{ form.instance.logo.url }}" alt="Logo" style="max-height: 40px;"></div>
                {% endif %}
            </div>

            <hr class="my-2">
            
            <button type="submit" class="btn btn-primary btn-sm">
                <i class="bi bi-check-circle"></i> Salvar Configurações
            </button>
        </form>
    </div>
</div>
{% endblock %} 